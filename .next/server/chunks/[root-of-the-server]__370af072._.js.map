{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///Users/vinim/giropro-motoristas/src/app/api/weather/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\n\nexport async function GET(request: NextRequest) {\n  const { searchParams } = new URL(request.url);\n  const cidade = searchParams.get('cidade');\n  const apiKey = process.env.OPENWEATHER_API_KEY;\n\n  if (!cidade || !apiKey) {\n    return NextResponse.json({ error: 'Configuração incompleta' }, { status: 400 });\n  }\n\n  try {\n    // 1. Geocoding (Descobrir lat/lon da cidade)\n    const geoRes = await fetch(\n      `http://api.openweathermap.org/geo/1.0/direct?q=${cidade},BR&limit=1&appid=${apiKey}`\n    );\n    const geoData = await geoRes.json();\n\n    if (!geoData.length) {\n      return NextResponse.json({ error: 'Cidade não encontrada' }, { status: 404 });\n    }\n\n    const { lat, lon } = geoData[0];\n\n    // 2. Clima Atual\n    const weatherRes = await fetch(\n      `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&lang=pt_br&appid=${apiKey}`\n    );\n    const weatherData = await weatherRes.json();\n\n    return NextResponse.json({\n      temp: Math.round(weatherData.main.temp),\n      descricao: weatherData.weather[0].description,\n      icon: weatherData.weather[0].icon,\n      principal: weatherData.weather[0].main // Rain, Clear, Clouds...\n    });\n\n  } catch (error) {\n    return NextResponse.json({ error: 'Erro ao buscar clima' }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;AAAA;;AAEO,eAAe,IAAI,OAAoB;IAC5C,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,SAAS,aAAa,GAAG,CAAC;IAChC,MAAM,SAAS,QAAQ,GAAG,CAAC,mBAAmB;IAE9C,IAAI,CAAC,UAAU,CAAC,QAAQ;QACtB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA0B,GAAG;YAAE,QAAQ;QAAI;IAC/E;IAEA,IAAI;QACF,6CAA6C;QAC7C,MAAM,SAAS,MAAM,MACnB,CAAC,+CAA+C,EAAE,OAAO,kBAAkB,EAAE,QAAQ;QAEvF,MAAM,UAAU,MAAM,OAAO,IAAI;QAEjC,IAAI,CAAC,QAAQ,MAAM,EAAE;YACnB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAwB,GAAG;gBAAE,QAAQ;YAAI;QAC7E;QAEA,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,OAAO,CAAC,EAAE;QAE/B,iBAAiB;QACjB,MAAM,aAAa,MAAM,MACvB,CAAC,oDAAoD,EAAE,IAAI,KAAK,EAAE,IAAI,+BAA+B,EAAE,QAAQ;QAEjH,MAAM,cAAc,MAAM,WAAW,IAAI;QAEzC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,MAAM,KAAK,KAAK,CAAC,YAAY,IAAI,CAAC,IAAI;YACtC,WAAW,YAAY,OAAO,CAAC,EAAE,CAAC,WAAW;YAC7C,MAAM,YAAY,OAAO,CAAC,EAAE,CAAC,IAAI;YACjC,WAAW,YAAY,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,yBAAyB;QAClE;IAEF,EAAE,OAAO,OAAO;QACd,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAuB,GAAG;YAAE,QAAQ;QAAI;IAC5E;AACF","debugId":null}}]
}